<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org">
    <head th:replace="fragments/head"></head>

    <!--  REMOVER -> BAIXO -->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">-->
<!--    <link rel="stylesheet" href="../../static/css/style.css">-->
    <!--  REMOVER -> CIMA -->
<!--    <link rel="stylesheet" href="../../static/css/style.css">-->

<body>

    <header th:replace="fragments/header"></header>


    <main>

        <div class="container">

            <h1>Create Person</h1>

            <div class="container p-3 px-3">

                <form class="row mt-2" th:method="post" th:action="@{/person/save}" th:object="${newPerson}">

<!--                    DIV For form validation-->
<!--                    <div th:if="{#fields.hasErrors()}" class="alert altert-danger col-md-6 lg-5 mx-auto" role="alert">-->

                    <div class="row mt-2">
                        <div th:if="${#fields.hasErrors()}" class="alert alert-danger col-md-6 cl-lg-5 mx-auto" role="alert">
                            <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="error" style="display: block;"></span>
                            <span th:if="${#fields.hasErrors('surname')}" th:errors="*{surname}"class="error" style="display: block;"></span>
                            <span th:if="${#fields.hasErrors('typePersonEnum')}" th:errors="*{typePersonEnum}"class="error" style="display: block;"></span>
                        </div>
                    </div>

                    <span th:if="${infoPersonTypeExists}" th:text="'aaaa" style="display: block;"></span>

<!--                    </div>-->

<!--                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">-->

<!--                    Person -> Name-->
                    <div class="row mt-2">
                        <div class="col-md-6 col-lg-5 mx-auto">
                            <label for="name" class="form-label">Nome: *</label>
                            <input type="text" class="form-control" id="name" th:field="*{name}">
                        </div>
                    </div>


<!--                    Person -> Surname-->
                    <div class="row mt-2">
                        <div class="col-md-6 col-lg-5 mx-auto">
                            <label for="surname" class="form-label">Apelido: *</label>
                            <input type="text" class="form-control" id="surname" th:field="*{surname}">
                        </div>
                    </div>

<!--                    Person -> Type-->
                    <div class="row mt-2">
                        <div class="col-md-6 col-lg-5 mx-auto">
                            <label for="personType" class="form-label">Tipo: *</label>
                            <select id="personType" class="form-control" th:field="*{typePersonEnum}">
                                <option value="" th:if="${typePersonEnum == null}" selected hidden>Escolha uma opção:</option>
                                <option th:each="ptype : ${personTypes}" th:text="${ptype}" th:value="${ptype}"></option>
                            </select>
                        </div>
                    </div>

                    <div class="row mt-4">
                        <div class="col-md-6 col-lg-5 mx-auto">
                            <input type="submit" class="btn btn-primary border-0" style="margin-right: 20px;" value="Registar">
                            <a class="btn btn-light border-0" onclick="history.back()" style="background-color: #fc4f4f;">Voltar</a>
                        </div>
                    </div>

                </form>

            </div>
        </div>

    </main>

    <footer th:replace="fragments/footer"></footer>

    <!--  REMOVER -> BAIXO -->

<!--    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>-->
    <!--  REMOVER -> CIMA -->
    <script th:src="@{/js/infomsg.js}"></script>

</body>
</html>